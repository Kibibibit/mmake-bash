# MMAKE

This is a pure Bash remake of my old [python based mmake](https://github.com/Kibibibit/mmake).

It can be used to generate a Makefile for a c or c++ projects.

# Install

Installation is as simple as cloning the repo, and adding the `mmake-bash` directory to your path.

# Usage

The command can be called with `mmake <args>`


## `defaults.conf`
After the first run, you will have a file in this `mmake-bash` dir called defaults.conf, which will contain:
```
# Autogenerated default conf file! Anything in here will be added by default to mmake.conf files
default-name=main
default-cpp-version=c++14
default-cpp-compiler=g++
default-c-compiler=gcc
default-cflags=Wall,Werror
```
These adjust the default settings used when generating Makefiles.

## `mmake.conf`
When you run mmake on a project, it saves all of your settings to `mmake.conf`. You can edit this file manually if you would like to make changes, however all settings can be configured through arguments passed to `mmake`.


## Example

In a folder with the following files:
```
- main.cpp
- object1.cpp
- object1.h
- someFile.cpp
```
Running `mmake -n mmake -l ncurses` will create the follwing Makefile:
```Makefile
CC=g++
CFLAGS=-Werror -Wall -std= -g -O
LIBS=-lncurses

.default: all

all: mmake

clean:
        rm -rf mmake *.o

mmake: main.o object1.o someFile.o
        $(CC) $(CFLAGS) -o $@ $^ $(LIBS)

%.o: %.cpp
        $(CC) $(CFLAGS) -c $^ $(LIBS)

```

## Arguments
```
-h            : Shows this help message
-n/--name     : Sets the name of the created executable. Defaults to 'main'"
-f/--cflag    : Adds the given cflag to the Makefile. Exclude the '-'
-l/--lib      : Adds the given library to the Makefile. Exclude the '-l'
-c/--compiler : Sets the compiler version. Defaults to g++ for c++ and gcc for c
-v/--version  : Sets the c++ version passed in through -std=, for c++ projects. Defaults to c++14
--remove-cflag: Removes the given cflag from the Makefile. Exclude the leading '-'
--remove-lib  : Removes the given library from the Makefile. Exclude the leading '-l'
```
